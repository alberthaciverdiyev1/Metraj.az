{{>Component.Breadcrumb items=""}}
{{>Component.ScrollTop}}

<section id="add-property" class="px-4 w-full mx-auto">

    <!-- üü† STEP HEADER -->
    <div class="text-center mt-6 mb-8">
        <h1 class="text-2xl lg:text-3xl font-bold text-gray-800">
            Fill out the information ‚Äî
            <span class="text-[var(--primary)]">add your property in just a few minutes!</span>
        </h1>
        <p class="text-gray-500 mt-2">Follow the steps below to complete your listing.</p>
    </div>

    <!-- üü¢ STEP INDICATOR -->
    <div id="stepIndicator" class="flex justify-center items-center gap-4 mb-8">
        <div
            class="step-circle w-10 h-10 flex items-center justify-center rounded-full border-2 border-[var(--primary)] text-[var(--primary)] font-semibold bg-white transition">
            1</div>
        <div class="h-[2px] w-10 bg-gray-300"></div>
        <div
            class="step-circle w-10 h-10 flex items-center justify-center rounded-full border-2 border-gray-300 text-gray-400 font-semibold bg-white transition">
            2</div>
        <div class="h-[2px] w-10 bg-gray-300"></div>
        <div
            class="step-circle w-10 h-10 flex items-center justify-center rounded-full border-2 border-gray-300 text-gray-400 font-semibold bg-white transition">
            3</div>
        <div class="h-[2px] w-10 bg-gray-300"></div>
        <div
            class="step-circle w-10 h-10 flex items-center justify-center rounded-full border-2 border-gray-300 text-gray-400 font-semibold bg-white transition">
            4</div>
    </div>

    <!-- STEP 1 -->
    <div class="step ">

        <!-- üß© FORM CONTENT (s…ônin kodun d…ôyi≈üm…ôd…ôn) -->
        <div id="step1" class="mt-2 p-5 mx-auto bg-white rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-6">{{t "Add Property"}}</h2>
            <div class="grid grid-cols-2 lg:grid-cols-3 gap-4">

                <!-- Building Type -->
                <div class="custom-select-container relative" id="building-type-container">
                    <button type="button"
                        class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                        <span class="custom-select-text">{{t "Building type"}}</span>
                        <svg class="w-4 h-4 ml-2 transition-transform transform" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <ul id="building-type"
                        class="custom-select-options absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                    </ul>
                    <input type="hidden" name="building-type" id="building-type-input">
                </div>

                <!-- Add Type -->
                <div id="customTypeContainer" class="relative custom-select-container">
                    <button type="button" id="add-type"
                        class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                        <span class="custom-select-text">{{t "Add Type"}}</span>
                        <svg class="w-4 h-4 ml-2 transition-transform transform" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <ul
                        class="custom-select-options absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                        <li data-value="sale" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">For Sale</li>
                        <li data-value="rent" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">For Rent</li>
                    </ul>
                    <input type="hidden" id="selectedTypeInput" name="type">
                </div>

                <!-- Repair -->
                <div class="custom-select-container relative" id="repair-type-container">
                    <button type="button"
                        class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                        <span class="custom-select-text">T…ômir</span>
                        <svg class="w-4 h-4 ml-2 transition-transform transform" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <ul
                        class="custom-select-options absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                        <li data-value="repaired" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">T…ômirli</li>
                        <li data-value="unrepaired" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">T…ômirsiz</li>
                    </ul>
                    <input type="hidden" name="propertyCondition" id="repair-type-input">
                </div>

                <!-- Area -->
                <div id="area">
                    <input type="number"
                        class="w-full border border-gray-300 rounded-xl p-2 focus:outline-none focus:ring-2 focus:ring-orange-500"
                        placeholder="{{t 'Size (m¬≤)'}}" />
                </div>

                <!-- Price -->
                <div class="flex gap-3">
                    <input id="price" type="number" placeholder={{t "Price" }}
                        class="w-full border border-gray-300 rounded-xl p-2 focus:outline-none focus:ring-2 focus:ring-orange-500" />
                </div>

                <!-- Room Count -->
                <div class="custom-select-container relative" id="room-count-container">
                    <button type="button"
                        class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                        <span class="custom-select-text">Otaq sayƒ±</span>
                        <svg class="w-4 h-4 ml-2 transition-transform transform" xmlns="http://www.w3.org/2000/svg"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <ul
                        class="custom-select-options absolute z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                    </ul>
                    <input type="hidden" name="roomCount" id="room-count-input">
                </div>

            </div>

            <!-- Textareas -->
            <div class="bg-white rounded-xl w-full mx-auto mt-6">
                <textarea name="description" id="description" placeholder="Your Description" rows="4"
                    class="w-full border border-gray-300 rounded-xl focus:outline-[#F1913D] px-4 py-2"></textarea>
            </div>
            <div class="bg-white rounded-xl w-full mx-auto mt-6">
                <textarea name="note-to-admin" id="note-to-admin" placeholder="{{t 'Note to admin'}}" rows="4"
                    class="w-full border border-gray-300  focus:outline-[#F1913D] rounded-xl px-4 py-2"></textarea>
            </div>

            <!-- Credit -->
            <div class="flex gap-2 mt-4">
                <input id="is-credit" type="checkbox"
                    class="w-4 h-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-white" />
                <label class="block font-medium mb-1">{{t "Credit"}}</label>
            </div>

        </div>

        <div class="flex justify-end mt-6">
            <button type="button"
                class="next-step bg-[var(--primary)] text-white px-6 py-2 rounded-lg mb-5">Continue</button>
        </div>
    </div>
    <!-- STEP 2: Location -->
    <div id="step-2" class="step ">

        <section id="property-information">
            <div class="p-6 rounded-xl w-full mx-auto bg-white shadow-md my-3">
        <h2 class="text-2xl font-bold mb-4">Location</h2>
                <form method="POST" action="">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">

                        <!-- City -->
                        <div class="relative custom-select-container" id="city-container">
                            <button type="button"
                                class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                                <span class="custom-select-text">City</span>
                                <svg class="w-4 h-4 ml-2 transition-transform transform"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <ul id="city"
                                class="custom-select-options absolute top-11 z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                                <li data-value="Baku" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">Baku</li>
                                <li data-value="Ganja" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">Ganja</li>
                                <li data-value="Sumqayit" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">Sumqayit
                                </li>
                            </ul>
                            <input type="hidden" name="city" id="city-input">
                        </div>

                        <!-- District -->
                        <div class="hidden relative custom-select-container" id="district-container">
                            <button type="button"
                                class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                                <span class="custom-select-text">District</span>
                                <svg class="w-4 h-4 ml-2 transition-transform transform"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <ul id="district"
                                class="custom-select-options absolute top-11 z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                            </ul>
                            <input type="hidden" name="district" id="district-input">
                        </div>

                        <!-- Town -->
                        <div class="hidden relative custom-select-container" id="town-container">
                            <button type="button"
                                class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                                <span class="custom-select-text">Town</span>
                                <svg class="w-4 h-4 ml-2 transition-transform transform"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <ul id="town"
                                class="custom-select-options absolute top-11 z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                            </ul>
                            <input type="hidden" name="town" id="town-input">
                        </div>

                        <!-- Subway -->
                        <div class="relative custom-select-container" id="subway-container">
                            <button type="button"
                                class="custom-select-button w-full border border-gray-300 rounded-lg p-2 flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-orange-300">
                                <span class="custom-select-text">Subway</span>
                                <svg class="w-4 h-4 ml-2 transition-transform transform"
                                    xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <ul id="subway"
                                class="custom-select-options absolute top-11 z-10 bg-white border border-gray-300 rounded-lg mt-1 w-full hidden">
                                <li data-value="Subway1" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">Subway1
                                </li>
                                <li data-value="Subway2" class="px-4 py-2 hover:bg-orange-100 cursor-pointer">Subway2
                                </li>
                            </ul>
                            <input type="hidden" name="subway" id="subway-input">
                        </div>
                    </div>

                    <!-- Address -->
                    <div class="mb-4 flex gap-2 flex-col lg:flex-row items-center justify-center">
                        <div class="flex flex-col gap-4 w-full lg:w-[80%]">
                            <input type="text" name="address" id="address" placeholder="Full address"
                                class="w-full placeholder-[#B3B3B3] border border-gray-300 rounded-xl px-4 py-2">
                        </div>
                        <button type="button" id="searchAddress"
                            class="w-full lg:w-[20%] rounded-lg text-sm bg-[var(--primary)] text-white px-3 py-3 hover:bg-orange-600">
                            Search on Map
                        </button>
                    </div>

                    <!-- Map -->
                    <div class="mb-4">
                        <div id="map" style="height: 400px; width: 100%; border-radius: 0.375rem;"></div>
                        <input type="hidden" name="latitude" id="latitude">
                        <input type="hidden" name="longitude" id="longitude">
                    </div>

                    <!-- Google Maps link -->
                    <div class="mb-4">
                        <label for="google_map_location" class="block font-semibold mb-1">Google Maps Link
                            (optional):</label>
                        <input type="text" name="google_map_location" id="google_map_location"
                            placeholder="https://maps.google.com/..."
                            class="w-full border border-gray-300 rounded-md px-4 py-2">
                    </div>
                </form>
            </div>
        </section>

        <!-- Navigation -->
        <div class="flex justify-between mt-5 mb-5">
            <button type="button" class="prev-step bg-gray-300 px-4 py-2 rounded-lg hover:bg-gray-400">Back</button>
            <button type="button"
                class="next-step bg-[var(--primary)] text-white px-4 py-2 rounded-lg hover:bg-orange-600">Next</button>
        </div>
    </div>






    <!-- STEP 3 -->
    <div class="step mb-10">


        <!-- üß© FEATURES CONTENT -->
        <div class="p-6 rounded-lg bg-white shadow mb-4">
            <h3 class="text-lg font-semibold mb-3">Features</h3>
            <input type="text" id="nearbySearch" placeholder="Axtar..."
                class="mb-4 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--primary)]">
            <div id="features" class="grid grid-cols-2 gap-3"></div>
             <div class="flex justify-center">
                        <button id="toggle-nearby-objects"
                            class="mt-6 text-[var(--primary)] border border-[var(--primary)] px-3 rounded-md py-1 text-center hover:text-orange-500 font-semibold focus:outline-none">
                            Daha √ßox g√∂st…ôr <i class="bi bi-chevron-down"></i>
                        </button>
                    </div>
        </div>

        <div class="p-6 rounded-lg bg-white shadow">

            <!-- Nearby kodu -->
            <h2 class="text-xl font-semibold mb-4">Nearby objects <span style="color: red">*</span></h2>
            <input type="text" id="nearbySearch" placeholder="Axtar..."
                class="mb-4 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--primary)]">
            <div id="nearby-objects-container" class="relative overflow-hidden max-h-48">
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4" id="nearby-objects"></div>
                <div
                    class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-white to-transparent pointer-events-none fade-overlay">
                </div>
            </div>
             <div class="flex justify-center toggleButton">
                        <button id="toggle-nearby-objects"
                            class="mt-6 text-[var(--primary)] border border-[var(--primary)] px-3 rounded-md py-1 text-center hover:text-orange-500 font-semibold focus:outline-none">
                            Daha √ßox g√∂st…ôr <i class="bi bi-chevron-down"></i>
                        </button>
                    </div>

        </div>
            <div class="flex justify-between mt-6">
                <button type="button" class="prev-step bg-gray-300 px-4 py-2 rounded-lg">Back</button>
                <button type="button"
                    class="next-step bg-[var(--primary)] text-white px-4 py-2 rounded-lg">Next</button>
            </div>

    </div>
    


    <!-- STEP 4 -->
    <div class="step hidden mt-2 p-5 mx-auto ">
        {{>Component.AgentInfo}}

        <div class="flex justify-between mt-6">
            <button type="button" class="prev-step bg-gray-300 px-4 py-2 rounded-lg">Back</button>
            <button type="submit" id="finishBtn"
                class="bg-[var(--primary)] text-white px-6 py-3 rounded-lg hover:bg-orange-600">Finish</button>
        </div>
    </div>

</section>

<!-- JS -->
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const steps = Array.from(document.querySelectorAll(".step"));
        const nextBtns = document.querySelectorAll(".next-step");
        const prevBtns = document.querySelectorAll(".prev-step");
        const stepCircles = document.querySelectorAll("#stepIndicator .step-circle");
        let currentStep = 0;

        function showStep(index) {
  steps.forEach((step, i) => step.classList.toggle("hidden", i !== index));

  stepCircles.forEach((circle, i) => {
    if (i < index) {
      // completed steps
      circle.classList.add("bg-[var(--primary)]", "text-gray", "border-[var(--primary)]");
      circle.classList.remove("border-gray-300", "text-gray-400");
    } else if (i === index) {
      // current step
      circle.classList.remove("bg-[var(--primary)]", "text-gray");
      circle.classList.add("border-[var(--primary)]", "text-[var(--primary)]", "font-bold");
    } else {
      // upcoming steps
      circle.classList.remove("bg-[var(--primary)]", "text-gray", "border-[var(--primary)]", "font-bold");
      circle.classList.add("border-gray-300", "text-gray-400");
    }
  });
}


        nextBtns.forEach(btn => btn.addEventListener("click", () => {
            if (currentStep < steps.length - 1) currentStep++;
            showStep(currentStep);
        }));

        prevBtns.forEach(btn => btn.addEventListener("click", () => {
            if (currentStep > 0) currentStep--;
            showStep(currentStep);
        }));

        showStep(currentStep);
    });
</script>